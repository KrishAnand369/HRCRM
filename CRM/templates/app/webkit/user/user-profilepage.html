{% extends 'app/webkit/main.html' %}
{% load static %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4">
         <div class="card card-block p-card">
            <div class="profile-box">
               <div class="profile-card rounded">
                  {% if profile.profile_pic %}
                  <img src="{{ profile.profile_pic.url }}" alt="profile-bg"
                     class="avatar-100 rounded d-block mx-auto img-fluid mb-3">
                  {% else %}
                  <img src="{% static 'webkit/assets/images/user/02.jpg' %}" alt="profile-bg"
                     class="avatar-100 rounded d-block mx-auto img-fluid mb-3">
                  {% endif %}
                  <h3 class="font-600 text-white text-center mb-0">{{ profile.user.username }}</h3>
                  <p class="text-white text-center mb-5">{{ profile.role }}</p>
               </div>
               <div class="pro-content rounded">
                  <div class="d-flex align-items-center mb-3">
                     <div class="p-icon mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="text-primary" width="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76" />
                        </svg>
                     </div>
                     <p class="mb-0 eml">{{ profile.user.email }}</p>
                  </div>
                  <div class="d-flex align-items-center mb-3">
                     <div class="p-icon mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="text-primary" width="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z" />
                        </svg>
                     </div>
                     <p class="mb-0">{{ profile.phone }}</p>
                  </div>
                  <div class="d-flex align-items-center mb-3">
                     <div class="p-icon mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="text-primary" width="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                     </div>
                     <p class="mb-0">{{ profile.country }}</p>
                  </div>
                  {% if user.is_superuser %}
                  {% else %}
                  <div class="d-flex justify-content-center">
                     <div class="pl-3 btn-new mb-1 mr-3">
                         <!-- Dropdown Button -->
                         <div class="dropdown">
                             <button class="btn btn-success dropdown-toggle" type="button" id="leaveDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                 Leave
                             </button>
                             <!-- Dropdown Menu -->
                             <div class="dropdown-menu" aria-labelledby="leaveDropdown">
                                 <!-- Apply for Leave Option -->
                                 <a class="dropdown-item" href="#" data-target="#leave-modal" data-toggle="modal">
                                     Apply for Leave
                                 </a>
                                 <!-- My Applications Option -->
                                 <a class="dropdown-item" href="{% url 'CRM:my_applications' %}">
                                     My Applications
                                 </a>
                             </div>
                         </div>
                         <!-- Include the Modal -->
                         {% include 'app/webkit/Modals/leaveModal.html' %}
                     </div>
                 </div>
                 {% endif %}
                  
               </div>
            </div>
         </div>
         



        </div>
        <div class="col-lg-8">
            <div class="card card-block">
                <div class="card-header d-flex justify-content-between pb-0">
                    <div class="header-title">
                        <h4 class="card-title mb-0">About Me</h4>
                    </div>
                </div>
            <div class="card-body">
               <p>{{ profile.about }}</p>
               
               <h5 class="mb-2 mt-4">Professional Skills</h5>
               {% for skill in skills %}

               <div class="iq-progress-bar-linear d-inline-block w-100 mb-3">
                  <span>{{ skill.name }}</span>
                  <span class="float-right">{{ skill.proficiency }}%</span>
                  <div class="iq-progress-bar pro-skill">
                     <span data-percent="{{ skill.proficiency }}"></span>
                  </div>
               </div>
               {% empty %}
               <h6>No skills added yet.</h6>
               {% endfor %}
            </div>
        </div>
        <div class="card card-block">
            <div class="card-header pb-0">
               <div class="header-title">
                  <h4 class="card-title">Education</h4>
               </div>
            </div>
            <div class="card-body">
               <ul class="list-inline p-0 m-0">
                  {% for edu in education %}
                  <li class="d-flex align-items-center mb-3">
                     <div class="profile-icon iq-icon-box rounded-small bg-danger-light svg-danger text-center">
                        <svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <g clip-path="url(#clip0)">
                              <path
                                 d="M23.3379 5.745L12.8777 2.53125C12.3077 2.35612 11.6927 2.35612 11.1231 2.53125L0.662429 5.745C-0.220321 6.01612 -0.220321 7.18349 0.662429 7.45462L2.48605 8.01487C2.08593 8.50949 1.83993 9.11287 1.81555 9.77362C1.45443 9.98062 1.20018 10.3541 1.20018 10.8C1.20018 11.2042 1.41318 11.5444 1.71993 11.7619L0.762554 16.0699C0.679304 16.4445 0.964304 16.8 1.34793 16.8H3.45205C3.83605 16.8 4.12105 16.4445 4.0378 16.0699L3.08043 11.7619C3.38718 11.5444 3.60018 11.2042 3.60018 10.8C3.60018 10.3661 3.35755 10.0031 3.01293 9.79237C3.04143 9.22912 3.32943 8.73112 3.7888 8.41537L11.1227 10.6687C11.4624 10.773 12.1142 10.9031 12.8773 10.6687L23.3379 7.45499C24.2211 7.1835 24.2211 6.0165 23.3379 5.745V5.745ZM13.2298 11.8159C12.1599 12.1444 11.2483 11.9629 10.7702 11.8159L5.33193 10.1452L4.80018 14.4C4.80018 15.7256 8.02368 16.8 12.0002 16.8C15.9767 16.8 19.2002 15.7256 19.2002 14.4L18.6684 10.1449L13.2298 11.8159V11.8159Z"
                                 fill="currentColor" />
                           </g>
                           <defs>
                              <clipPath>
                                 <rect width="24" height="19.2" fill="white" />
                              </clipPath>
                           </defs>
                        </svg>
                     </div>
                     <div class="ml-3">
                        <h5>{{ edu.institution }}</h5>
                        <p class="mb-0">{{ edu.course }} | {{ edu.start_year }} - {{ edu.end_year }}</p>
                     </div>
                  </li>
                  {% empty %}
                     <li> 
                        <div class="ml-3">
                            <h5>No education records added yet.</h5> 
                        </div>
                     </li>
                  {% endfor %}
               </ul>
            </div>
         </div>

      </div>
   </div>
</div>
{% endblock %}
    