<!-- leave_details_modal.html -->
<div class="modal fade" id="detailsModal{{ application.id }}" tabindex="-1" role="dialog" aria-labelledby="detailsModalLabel{{ application.id }}" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="detailsModalLabel{{ application.id }}">Leave Application Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p><strong>Employee:</strong> {{ application.employee.user.username }}</p>
                <p><strong>Reason:</strong> {{ application.reason }}</p>
                <p><strong>Date:</strong> {{ application.date }}</p>
                <p><strong>Notes:</strong> {{ application.notes|default:"No notes provided." }}</p>
                <p><strong>Documents:</strong></p>
                {% if application.documents %}
                    <a href="{{ application.documents.url }}" target="_blank" class="btn btn-info btn-sm">View Document</a>
                {% else %}
                    <p>No documents uploaded.</p>
                {% endif %}
                
                {% comment %} <form action="{% url 'CRM:make_commend_leave' application.id %}" method="post" style="display: inline;" >
                    {% csrf_token %}
                    <div class="col-lg-12">
                        <div class="form-group mb-3">
                            <label for="exampleInputText40" class="h5">Comments</label>
                            <textarea class="form-control" id="exampleInputText40" rows="2" placeholder="" name="comment"></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn bg-success" data-toggle="tooltip" data-placement="top" title="Approve">
                        <i class="ri-check-fill mr-0"></i>
                    </button>
                 </form> {% endcomment %}
                 <form action="{% url 'CRM:make_commend_leave' application.id %}" method="post" style="display: inline;">
                    {% csrf_token %}
                    <div class="col-lg-12">
                        <div class="form-group mb-3">
                            <label for="exampleInputText40" class="h5">Comments</label>
                            <div class="textarea-with-button">
                                <textarea class="form-control" id="exampleInputText40" rows="2" placeholder="Add a comment..." name="comment"></textarea>
                                <button type="submit" class="btn bg-success send-button" data-toggle="tooltip" data-placement="top" title="send">
                                    <i class="ri-upload-line mr-0"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>